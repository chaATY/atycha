---
title: 运算
date: 2023-12-25
author: CHA.ATY
environment:
  - vscode_1.78.2
  - gcc_10.3.0
  - C++_14
tags:
  - CPP
---

# 一、运算符

运算符是一种告诉编译器执行特定的数学或逻辑操作的符号。

C++ 内置了丰富的运算符，并提供了以下类型的运算符：
- 算术运算符
- 关系运算符
- 逻辑运算符
- 位运算符
- 赋值运算符
- 杂项运算符

---

# 二、算术运算符

假设变量 A 的值为 10，变量 B 的值为 20，则：

|运算符|描述|实例|
|---|---|---|
|+|把两个操作数相加|A + B 将得到 30|
|-|从第一个操作数中减去第二个操作数|A - B 将得到 -10|
|`*`|把两个操作数相乘|A * B 将得到 200|
|/|分子除以分母|B / A 将得到 2|
|%|取模运算符，整除后的余数|B % A 将得到 0|
|++|[自增运算符](https://www.runoob.com/cplusplus/cpp-increment-decrement-operators.html "C++ 中的自增运算符")，整数值增加 1|A++ 将得到 11|
|--|[自减运算符](https://www.runoob.com/cplusplus/cpp-increment-decrement-operators.html "C++ 中的自减运算符")，整数值减少 1|A-- 将得到 9|

---

# 三、关系运算符

假设变量 A 的值为 10，变量 B 的值为 20，则：

|运算符|描述|实例|
|---|---|---|
|`==`|检查两个操作数的值是否相等，如果相等则条件为真。|(A == B) 不为真。|
|!=|检查两个操作数的值是否相等，如果不相等则条件为真。|(A != B) 为真。|
|>|检查左操作数的值是否大于右操作数的值，如果是则条件为真。|(A > B) 不为真。|
|<|检查左操作数的值是否小于右操作数的值，如果是则条件为真。|(A < B) 为真。|
|>=|检查左操作数的值是否大于或等于右操作数的值，如果是则条件为真。|(A >= B) 不为真。|
|<=|检查左操作数的值是否小于或等于右操作数的值，如果是则条件为真。|(A <= B) 为真。|

---

# 四、逻辑运算符

假设变量 A 的值为 1，变量 B 的值为 0，则：

|运算符|描述|实例|
|---|---|---|
|&&|称为逻辑与运算符。如果两个操作数都 true，则条件为 true。|(A && B) 为 false。|
|\||称为逻辑或运算符。如果两个操作数中有任意一个 true，则条件为 true。|(A \| B) 为 true。|
|!|称为逻辑非运算符。用来逆转操作数的逻辑状态，如果条件为 true 则逻辑非运算符将使其为 false。|!(A && B) 为 true。|

---

# 五、位运算符

位运算符作用于位，并逐位执行操作。&、 | 和 ^ 的真值表如下所示：

|p|q|p & q|p \| q|p ^ q|
|---|---|---|---|---|
|0|0|0|0|0|
|0|1|0|1|1|
|1|1|1|1|0|
|1|0|0|1|1|

假设变量 A 的值为 60，变量 B 的值为 13

|运算符|描述|实例|
|---|---|---|
|&|按位与操作，按二进制位进行"与"运算。运算规则：<br><br>0&0=0;   <br>0&1=0;    <br>1&0=0;     <br>1&1=1;|(A & B) 将得到 12，即为 0000 1100|
|\||按位或运算符，按二进制位进行"或"运算。运算规则：<br><br>0\|0=0;   <br>0\|1=1;   <br>1\|0=1;    <br>1\|1=1;|(A \| B) 将得到 61，即为 0011 1101|
|^|异或运算符，按二进制位进行"异或"运算。运算规则：<br><br>0^0=0;   <br>0^1=1;   <br>1^0=1;  <br>1^1=0;|(A ^ B) 将得到 49，即为 0011 0001|
|~|取反运算符，按二进制位进行"取反"运算。运算规则：<br><br>~1=-2;   <br>~0=-1;|(~A ) 将得到 -61，即为 1100 0011，一个有符号二进制数的补码形式。|
|<<|二进制左移运算符。将一个运算对象的各二进制位全部左移若干位（左边的二进制位丢弃，右边补0）。|A << 2 将得到 240，即为 1111 0000|
|>>|二进制右移运算符。将一个数的各二进制位全部右移若干位，正数左补0，负数左补1，右边丢弃。|A >> 2 将得到 15，即为 0000 1111|

---

# 六、赋值运算符

|运算符|描述|实例|
|---|---|---|
|=|简单的赋值运算符，把右边操作数的值赋给左边操作数|C = A + B 将把 A + B 的值赋给 C|
|+=|加且赋值运算符，把右边操作数加上左边操作数的结果赋值给左边操作数|C += A 相当于 C = C + A|
|-=|减且赋值运算符，把左边操作数减去右边操作数的结果赋值给左边操作数|C -= A 相当于 C = C - A|
|`*=`|乘且赋值运算符，把右边操作数乘以左边操作数的结果赋值给左边操作数|C `*=` A 相当于 C = C `*` A|
|/=|除且赋值运算符，把左边操作数除以右边操作数的结果赋值给左边操作数|C /= A 相当于 C = C / A|
|%=|求模且赋值运算符，求两个操作数的模赋值给左边操作数|C %= A 相当于 C = C % A|
|<<=|左移且赋值运算符|C <<= 2 等同于 C = C << 2|
|>>=|右移且赋值运算符|C >>= 2 等同于 C = C >> 2|
|&=|按位与且赋值运算符|C &= 2 等同于 C = C & 2|
|^=|按位异或且赋值运算符|C ^= 2 等同于 C = C ^ 2|
|\|=|按位或且赋值运算符|C \|= 2 等同于 C = C \| 2|

---

# 七、杂项运算符

|运算符|描述|
|---|---|
|sizeof|[sizeof 运算符](https://www.runoob.com/cplusplus/cpp-sizeof-operator.html)返回变量的大小。例如，sizeof(a) 将返回 4，其中 a 是整数。|
|Condition ? X : Y|[条件运算符](https://www.runoob.com/cplusplus/cpp-conditional-operator.html)。如果 Condition 为真 ? 则值为 X : 否则值为 Y。|
|,|[逗号运算符](https://www.runoob.com/cplusplus/cpp-comma-operator.html)会顺序执行一系列运算。整个逗号表达式的值是以逗号分隔的列表中的最后一个表达式的值。|
|.（点）和 ->（箭头）|[成员运算符](https://www.runoob.com/cplusplus/cpp-member-operators.html)用于引用类、结构和共用体的成员。|
|Cast|[强制转换运算符](https://www.runoob.com/cplusplus/cpp-casting-operators.html)把一种数据类型转换为另一种数据类型。例如，int(2.2000) 将返回 2。|
|&|[指针运算符 &](https://www.runoob.com/cplusplus/cpp-pointer-operators.html) 返回变量的地址。例如 &a; 将给出变量的实际地址。|
|`*`|[指针运算符 `*`](https://www.runoob.com/cplusplus/cpp-pointer-operators.html) 指向一个变量。例如，`*`var; 将指向变量 var。|

---

# 八、运算符优先级

运算符的优先级确定表达式中项的组合。这会影响到一个表达式如何计算。某些运算符比其他运算符有更高的优先级，例如，乘除运算符具有比加减运算符更高的优先级。

例如 `x = 7 + 3 * 2`，在这里，x 被赋值为 13，而不是 20，因为运算符 * 具有比 + 更高的优先级，所以首先计算乘法 `3*2`，然后再加上 7。

下表将按运算符优先级从高到低列出各个运算符，具有较高优先级的运算符出现在表格的上面，具有较低优先级的运算符出现在表格的下面：

|类别|运算符|结合性|
|---|---|---|
|后缀|() [] -> . ++ - -|从左到右|
|一元|+ - ! ~ ++ - - (type)* & sizeof|从右到左|
|乘除|* / %|从左到右|
|加减|+ -|从左到右|
|移位|<< >>|从左到右|
|关系|< <= > >=|从左到右|
|相等|== !=|从左到右|
|位与 AND|&|从左到右|
|位异或 XOR|^|从左到右|
|位或 OR|\||从左到右|
|逻辑与 AND|&&|从左到右|
|逻辑或 OR|\||从左到右|
|条件|?:|从右到左|
|赋值|`= += -= *= /= %=>>= <<= &= ^= \|=`|从右到左|
|逗号|,|从左到右|

---

# 九、数学运算

在 C++ 中，除了可以创建各种函数，还包含了各种有用的函数供您使用。这些函数写在标准 C 和 C++ 库中，叫做**内置**函数。您可以在程序中引用这些函数。

C++ 内置了丰富的数学函数，可对各种数字进行运算。下表列出了 C++ 中一些有用的内置的数学函数。

为了利用这些函数，需要引用数学头文件 `<cmath>`：

|号|函数 & 描述|
|---|---|
|1|**double cos(double);**  <br>该函数返回弧度角（double 型）的余弦。|
|2|**double sin(double);**  <br>该函数返回弧度角（double 型）的正弦。|
|3|**double tan(double);**  <br>该函数返回弧度角（double 型）的正切。|
|4|**double log(double);**  <br>该函数返回参数的自然对数。|
|5|**double pow(double, double);**  <br>假设第一个参数为 x，第二个参数为 y，则该函数返回 x 的 y 次方。|
|6|**double hypot(double, double);**  <br>该函数返回两个参数的平方总和的平方根，也就是说，参数为一个直角三角形的两个直角边，函数会返回斜边的长度。|
|7|**double sqrt(double);**  <br>该函数返回参数的平方根。|
|8|**int abs(int);**  <br>该函数返回整数的绝对值。|
|9|**double fabs(double);**  <br>该函数返回任意一个浮点数的绝对值。|
|10|**double floor(double);**  <br>该函数返回一个小于或等于传入参数的最大整数。|

---

# 十、随机数

在许多情况下，需要生成随机数。关于随机数生成器，有两个相关的函数。一个是 **rand()**，该函数只返回一个伪随机数。生成随机数之前必须先调用 **srand()** 函数。

下面是一个关于生成随机数的简单实例。实例中使用了 **time()** 函数来获取系统时间的秒数，通过调用 rand() 函数来生成随机数：
```cpp
#include <iostream>
#include <ctime>
#include <cstdlib>
 
using namespace std;
 
int main ()
{
   int i,j;
 
   // 设置种子
   srand( (unsigned)time( NULL ) );
 
   /* 生成 10 个随机数 */
   for( i = 0; i < 10; i++ )
   {
      // 生成实际的随机数
      j= rand();
      cout <<"随机数： " << j << endl;
   }
 
   return 0;
}
```

结果：
```bash
随机数： 1748144778
随机数： 630873888
随机数： 2134540646
随机数： 219404170
随机数： 902129458
随机数： 920445370
随机数： 1319072661
随机数： 257938873
随机数： 1256201101
随机数： 580322989
```